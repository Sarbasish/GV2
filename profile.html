<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="images/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
    <title>Great Ventures</title>
    <!-- BOOTSTRAP https://stackoverflow.com/questions/6974684/how-to-send-formdata-objects-with-ajax-requests-in-jquery-->
    <link href="css/bootstrap.css" rel="stylesheet">
    <!-- OTHER -->
    <link rel="stylesheet" href="css/fonts/simple-line-icons-master/css/simple-line-icons.css">
    <link rel="stylesheet" href="css/fonts/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" type="text/css" href="css/animate.css" />
    <!-- CUSTOM -->
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="stylesheet" type="text/css" href="css/media.css" />
    <link rel="stylesheet" id="theme" type="text/css" href="css/colors/green.css" />

    <link rel="stylesheet" type="text/css" href="css/custom-about/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/custom-about/style.css" />
    <link rel="stylesheet" type="text/css" href="css/custom-about/style1.css" />
    <link rel="stylesheet" type="text/css" href="css/pageCss/profile.css" />


    <style>
        #loading-indicator {
            position: absolute;
            left: 10px;
            top: 10px;
        }
    </style>
</head>

<body>
    <!--   START LOADER  -->
    <div id="loader-wrapper">
        <div class="square-container">
            <div class="square">
                <p>Great Ventures</p>
            </div>
        </div>
        <div class="loader-section section-left"></div>
        <div class="loader-section section-right"></div>
    </div>
    <!--   END LOADER  -->
    <div class="container-fluid">
        <div>

            <div class="header-wrapper about-header">
                <!--LOGO -->
                <div class="navbar-header col-md-4  col-sm-4 col-xs-4">
                    <a class="menu-logo" id="top-logo" href="index.html"><img src="images/gv_logo_2.png" alt="logo"
                            title="logo" style="width: 250px !important;">
                    </a>
                </div>
                <div class="menu-container col-md-8  col-sm-8 col-xs-8">
                    <!-- START MAIN MENU -->
                    <div class="main-menu" id="main-menu">
                        <ul>
                            <li><a href="index.html">Home</a></li>
                            <li><a href="products.html">Products</a></li>
                            <li><a href="services.html">Services</a></li>
                            <li><a href="about.html">About</a></li>
                            <li><a href="contact.html">Contact</a></li>
                            <li class="active"><a href="#">My Profile</a></li>
                            <li class="logout"><a href="index.html">Logout</a></li>
                        </ul>

                        <!-- <ul>
                            <li><a href="index.html">Home</a></li>
                            <li><a href="#">About</a></li>
                            <li class="active"><a href="contact.html">Contact</a></li>
                        </ul> -->
                    </div>
                    <!-- END MAIN MENU -->
                    <!-- START HOME MENU -->
                    <nav id="bt-menu" class="bt-menu blog-hamburger-menu">
                        <a href="contact.html" class="bt-menu-trigger" id="menu-button"><span></span></a>
                        <ul class="menu-options">
                            <!-- HAMBURGER MAIN MENU FOR MOBILE DEVICE -->
                            <li class="hamburger-main-menu "><a href="index.html">Home</a></li>
                            <li class="hamburger-main-menu "><a href="products.html">Products</a></li>
                            <li class="hamburger-main-menu "><a href="services.html">Services</a></li>
                            <li class="hamburger-main-menu "><a href="about.html">About</a></li>
                            <li class="hamburger-main-menu "><a href="contact.html">Contact</a></li>
                            <li class="hamburger-main-menu selected"><a href="#">My Profile</a></li>
                            <li class="hamburger-main-menu " class="logout"><a href="index.html">Logout</a></li>
                        </ul>
                    </nav>
                </div>
                <!-- END HOME MENU  -->
            </div>
        </div>


        <section class="feature-section" id="feature">
            <div class="row">
                <div class="col-md-4">

                    <div class="profile-img">

                        <div class="avatar-upload">
                            <div class="avatar-edit">
                                <input type='file' id="imageUpload" accept=".png, .jpg, .jpeg" />
                            </div>
                            <div class="avatar-preview">
                                <div id="imagePreview" style="background-image: url(http://i.pravatar.cc/500?img=7);">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="profile-head">
                        <h1 id="username" class="letter" style="text-transform: capitalize;">
                            greate ventures
                        </h1>
                        <h3 id="email" class="letter" style="color: #76a904;">
                            gvuser@gmail.com
                        </h3>
                        <br>

                        <div class="row" style="    font-size: 12px;
                            letter-spacing: 1px;">

                            <div class="col-md-12">
                                <i class="fa fa-map-marker" style="color: #999;
                                    font-size: 14px;" aria-hidden="true"></i> &nbsp;&nbsp; <span id="address"> New York
                                    city</span>

                            </div>
                        </div>

                        <br>
                        <br>

                        <ul class="nav nav-tabs" style="font-size: 16px;">
                            <li class="active"><a data-toggle="tab" href="#about"><i class="fa fa-user"
                                        aria-hidden="true"></i> &nbsp;My Personal</a></li>
                            <li><a data-toggle="tab" href="#kyc"><i class="fa fa-eye" aria-hidden="true"></i>
                                    &nbsp;My KYC</a></li>
                        </ul>


                    </div>
                </div>
                <div class="col-md-2">
                    <input type="submit" class="profile-edit-btn" style="border: 2px solid #76a904;
                    font-size: 11px;
                    /* font-weight: 700; */
                    color: #ffffff;
                    text-transform: uppercase;
                    padding: 7.5px 10px;
                    background-color: #76a904;
                    -webkit-transition: all 0.3s ease 0s;
                    -moz-transition: all 0.3s ease 0s;
                    -ms-transition: all 0.3s ease 0s;
                    -o-transition: all 0.3s ease 0s;
                    transition: all 0.3s ease 0s;
                    letter-spacing: 0.6px;
                    width: 85%;
                    font-weight: normal;" id="editprofile" name="btnAddMore" onclick="someFunc()"
                        value="Edit Profile" /><br><br>
                    <input type="submit" class="profile-edit-btn" style="border: 2px solid #76a904;
                    font-size: 11px;
                    /* font-weight: 700; */
                    color: #ffffff;
                    text-transform: uppercase;
                    padding: 7.5px 10px;
                    background-color: #76a904;
                    -webkit-transition: all 0.3s ease 0s;
                    -moz-transition: all 0.3s ease 0s;
                    -ms-transition: all 0.3s ease 0s;
                    -o-transition: all 0.3s ease 0s;
                    transition: all 0.3s ease 0s;
                    letter-spacing: 0.6px;
                    width: 85%;
                    font-weight: normal;" id="changepwd" name="changepwd" onclick="changepwd()"
                        value="Change Password" />
                </div>
            </div>


            <div class="row">
                <div class="col-md-4">
                    <div class="profile-work">

                    </div>
                </div>
                <div class="col-md-7" style="font-size: 14px;">


                    <div class="tab-content">
                        <div class="tab-pane active" id="about">

                            <div id="shouldshow">
                                <h4 style="color: #999;
                                    font-style: normal;
                                    padding-bottom: 10px;">BASIC INFORMARION</h4>
                                <div class="row" style="padding-bottom: 10px;">
                                    <div class="col-md-6">
                                        <label>Gender </label>
                                    </div>
                                    <div class="col-md-6">
                                        <p id="gender"></p>
                                    </div>
                                </div>
                                <div class="row" style="padding-bottom: 10px;">
                                    <div class="col-md-6">
                                        <label>Date of Birth </label>
                                    </div>
                                    <div class="col-md-6">
                                        <p id="dob"></p>
                                    </div>
                                </div>
                                <br>
                                <h4 style="color: #999;
                                    font-style: normal;
                                    padding-bottom: 10px;">CONTACT INFORMARION</h4>
                                <div class="row" style="padding-bottom: 10px;">
                                    <div class="col-md-6">
                                        <label>Father's/Spouse Name</label>
                                    </div>
                                    <div class="col-md-6">
                                        <p id="father">Ambrose</p>
                                    </div>
                                </div>
                                <div class="row" style="padding-bottom: 10px;">
                                    <div class="col-md-6">
                                        <label>Email</label>
                                    </div>
                                    <div class="col-md-6">
                                        <p id="emailid">kshitighelani@gmail.com</p>
                                    </div>
                                </div>
                                <div class="row" style="padding-bottom: 10px;">
                                    <div class="col-md-6">
                                        <label>Phone</label>
                                    </div>
                                    <div class="col-md-6">
                                        <p id="phone">123 456 7890</p>
                                    </div>
                                </div>
                                <div class="row" style="padding-bottom: 10px;">
                                    <div class="col-md-6">
                                        <label>Address</label>
                                    </div>
                                    <div class="col-md-6">
                                        <p id="addr">Martial</p>
                                    </div>
                                </div>
                            </div>

                            <div class="reservation-page-left" id="shouldhide">

                                <div class="reservation-page-form">


                                    <form id="reservation-form">




                                        <div class="reservation-page-input-box">
                                            <label>Address 1</label>
                                            <input type="text" class="form-control" placeholder="Address 1"
                                                name="editaddressone" id="editaddressone"
                                                data-error="First name field is required" required>
                                        </div>
                                        <div class="reservation-page-input-box">
                                            <label>Address 2</label>
                                            <input type="text" class="form-control" placeholder="Address 2"
                                                name="editaddresstwo" id="editaddresstwo"
                                                data-error="First name field is required" required>
                                        </div>
                                        <div class="reservation-page-input-box">
                                            <label>City</label>
                                            <input type="text" class="form-control" placeholder="City" name="editcity"
                                                id="editcity" data-error="First name field is required" required>
                                        </div>

                                        <div class="reservation-page-input-box">
                                            <label>State</label>
                                            <input type="text" class="form-control" placeholder="State" name="editstate"
                                                id="editstate" data-error="First name field is required" required>
                                        </div>
                                        <div class="reservation-page-input-box">
                                            <label>Country</label>
                                            <input type="text" class="form-control" placeholder="Country"
                                                name="editcountry" id="editcountry"
                                                data-error="First name field is required" required>
                                        </div>

                                        <div class="reservation-page-input-box">
                                            <label>Pincode</label>
                                            <input type="number" maxlength="6" minlength="6" class="form-control"
                                                placeholder="Pincode" name="editpincode" id="editpincode"
                                                data-error="First name field is required" required>
                                        </div>


                                        <div class="reservation-page-input-box">
                                            <label>Mobile </label>
                                            <input type="number" maxlength="10" minlength="10" class="form-control"
                                                placeholder="Mobile" name="editmobile" id="editmobile"
                                                data-error="Mobile field is required" required>
                                        </div>





                                        <div class="form-group">
                                            <div class="col-xs-12">
                                                <br>
                                                <button class="book-now-btn submit" style="font-weight: normal;"
                                                    type="submit" id="submit">
                                                    Save</button>
                                                <button class="book-now-btn" style="font-weight: normal;" type="reset">
                                                    Reset</button>
                                            </div>
                                        </div>

                                    </form>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane" id="kyc">
                            <div id="">
                                <h4 style="color: #999;
                                    font-style: normal;
                                    padding-bottom: 10px;"></h4>
                                <div class="row" style="padding-bottom: 10px;">
                                    <div class="col-md-6">
                                        <label>PAN </label>
                                    </div>
                                    <div class="col-md-6">
                                        <p id="pan"></p>
                                    </div>
                                </div>
                                <div class="row" style="padding-bottom: 10px;">
                                    <div class="col-md-6">
                                        <label>Adhaar/UID </label>
                                    </div>
                                    <div class="col-md-6">
                                        <p id="adhaar"></p>
                                    </div>
                                </div>
                                <br>
                                <h4 style="color: #999;
                                    font-style: normal;
                                    padding-bottom: 10px;">OTHER INFORMARION</h4>
                                <div class="row" style="padding-bottom: 10px;">
                                    <div class="col-md-6">
                                        <label>Martial Status</label>
                                    </div>
                                    <div class="col-md-6">
                                        <p id="martial">Ambrose</p>
                                    </div>
                                </div>
                                <div class="row" style="padding-bottom: 10px;">
                                    <div class="col-md-6">
                                        <label>Resident Status</label>
                                    </div>
                                    <div class="col-md-6">
                                        <p id="resident"></p>
                                    </div>
                                </div>

                            </div>

                        </div>


                    </div>
                </div>




            </div>

        </section>
    </div>
    <script src="js/jquery-3.1.1.min.js"></script>
    <script src="js/jquery-migrate.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/classie.js"></script>
    <script src="js/custom.js"></script>


    <!-- <script type="text/javascript" src="extra/extras/jquery.min.1.7.js"></script> -->
    <!-- <script type="text/javascript" src="extra/extras/jquery-ui-1.8.20.custom.min.js"></script> -->
    <!-- <script type="text/javascript" src="extra/extras/modernizr.2.5.3.min.js"></script> -->
    <!-- <script type="text/javascript" src="extra/lib/hash.js"></script> -->
    <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js"></script>


    <script>

        $(".logout").click(function () {
            localStorage.removeItem("logged");
            localStorage.removeItem("UserName");

            localStorage.removeItem("LoginId");
            localStorage.removeItem("LoginUser");
            localStorage.removeItem("LoginUserMobile");
            localStorage.removeItem("LoginUserEmail");




        });


        $(".submit").click(function () {
            $("#reservation-form").validate({
                messages: {
                    name: "Name is required.",
                    email: {
                        required: "Email is required.",
                        email: "You must provide a valid email address."
                    }
                },
                focusInvalid: false,
                submitHandler: function () {
                    var LoginId = localStorage.getItem("LoginId");
                    var editmobile = document.getElementById('editmobile').value;

                    var editaddress1 = document.getElementById('editaddressone').value;
                    var editaddress2 = document.getElementById('editaddresstwo').value;
                    var editcity = document.getElementById('editcity').value;
                    var editstate = document.getElementById('editstate').value;
                    var editpincode = document.getElementById('editpincode').value;
                    var editcountry = document.getElementById('editcountry').value;



                    var json = JSON.stringify({

                        mobile: editmobile,
                        address1: editaddress1,
                        address2: editaddress2,
                        city: editcity,
                        state: editstate,
                        pincode: editpincode,
                        country: editcountry,
                        LoginId: LoginId

                    })

                    $.ajax({
                        type: 'POST',
                        // url: 'http://localhost:1234/user/update',

                        url: 'https://greatventures.herokuapp.com/user/update',
                        data: json,
                        async: false,
                        cache: false,
                        contentType: "application/json",
                        // enctype: 'multipart/form-data',
                        processData: false,

                        success: function (data) {
                            // $('#loading-indicator').hide();
                            $("#reservation-form").trigger('reset')
                            // localStorage.setItem("openaccount", data);
                            // window.location = "http://demomano.s3-website-us-east-1.amazonaws.com/confirm.html";
                            window.location = "index.html";
                        },
                        error: function (data, textStatus, errorThrown) {
                            console.log('data', data);
                            // $('#loading-indicator').hide();
                            alert("Mobile number already exist");
                        }
                    });


                }
            });

        })

    </script>


    <script>
        var LoginId = localStorage.getItem("LoginId");
        $(document).ready(function () {
            checkkyc();
            $('#shouldhide').hide();
            $('#shouldshow').show();

            $.ajax({
                type: 'GET',
                url: `https://greatventures.herokuapp.com/user/get/${LoginId}`,
                // url: `http://localhost:1234/user/get/${LoginId}`,
                processData: false,
                async: false,
                success: function (data) {

                    var returndata = data[0];
                    console.log(returndata);


                    document.getElementById('username').innerHTML = returndata.name;
                    document.getElementById('email').innerHTML = returndata.email;
                    document.getElementById('address').innerHTML = returndata.city + " " + returndata.country + " - " + returndata.pincode;
                    document.getElementById('gender').innerHTML = returndata.gender;
                    document.getElementById('father').innerHTML = returndata.fathername;
                    document.getElementById('phone').innerHTML = returndata.mobile;
                    document.getElementById('emailid').innerHTML = returndata.email;
                    document.getElementById('dob').innerHTML = returndata.dob;
                    document.getElementById('addr').innerHTML = returndata.address1 + " " + returndata.address2 + " " + returndata.city + " " + returndata.country + " - " + returndata.pincode;

                    document.getElementById('pan').innerHTML = returndata.pan;
                    document.getElementById('adhaar').innerHTML = returndata.adhaar;
                    document.getElementById('martial').innerHTML = returndata.martial;
                    document.getElementById('resident').innerHTML = returndata.status;

                    document.getElementById('editmobile').value = returndata.mobile;
                    document.getElementById('editaddressone').value = returndata.address1;
                    document.getElementById('editaddresstwo').value = returndata.address2;
                    document.getElementById('editpincode').value = returndata.pincode;
                    document.getElementById('editcity').value = returndata.city;
                    document.getElementById('editstate').value = returndata.state;
                    document.getElementById('editcountry').value = returndata.country;


                },
                error: function (data) {


                }
            });



        });


        function someFunc() {
            $('#shouldhide').show();
            $('#shouldshow').hide();
            $('#editprofile').hide();

        }

        function changepwd() {
            window.location = "changepassword.html"
        }

        function checkkyc() {

            var LoginId = localStorage.getItem("LoginId");

            $.ajax({
                type: 'GET',
                // url: `http://localhost:1234/user/get/${data[0]._id}`,
                url: `https://greatventures.herokuapp.com/user/get/${LoginId}`,
                processData: false,
                async: false,
                success: function (data) {


                    if (data.length == 0) {

                        window.location = "kyc.html"
                    }
                    else {



                    }
                },
                error: function (data) {


                }
            });

        }


    </script>

   
</body>

</html>